{"version":3,"sources":["scripts/main.js"],"names":["baseUrl","request","url","fetch","then","responce","json","phonesIdListArray","result","arrayPhonesResult","map","phone","id","getFirstReceivedDetails","arrayPhonesId","AllDetailsResult","Promise","race","getAllSuccessfulDetails","allSettled","results","filter","status","getThreeFastestDetails","allSuccessfulDetails","slice","notifyUsers","element","className","textString","div","document","createElement","h3","ul","Array","isArray","innerHTML","item","value","classList","add","innerText","append","body","firstReceivedDetails","allReceivedDetails","threeFastestDetails"],"mappings":";AAAA,aAEA,IAAMA,EAAU,mEAGhB,SAASC,EAAQC,GACRC,OAAAA,MAAMD,GACVE,KAAK,SAAAC,GAAYA,OAAAA,EAASC,SAG/B,IAAMC,EACFN,EAAWD,GAAAA,OAAAA,EAAX,UACCI,KAAK,SAAAI,GAAUA,OAAAA,IACfJ,KAAK,SAAAK,GACGA,OAAAA,EAAkBC,IAAI,SAAAC,GACpBV,OAAAA,EAAWD,GAAAA,OAAAA,EAAWW,KAAAA,OAAAA,EAAMC,GAAnC,cAIR,SAASC,EAAwBC,GACxBA,OAAAA,EACJV,KAAK,SAAAW,GAAoBC,OAAAA,QAAQC,KAAKF,KAG3C,SAASG,EAAwBJ,GACxBA,OAAAA,EACJV,KAAK,SAAAW,GACGC,OAAAA,QAAQG,WAAWJ,GACvBX,KAAK,SAAAgB,GAAWA,OAAAA,EAAQC,OAAO,SAAAb,GACvBA,MAAkB,cAAlBA,EAAOc,aAKxB,SAASC,EAAuBT,GACvBI,OAAAA,EAAwBJ,GAC5BV,KAAK,SAAAoB,GAAwBA,OAAAA,EAAqBC,MAAM,EAAG,KAGhE,SAASC,EAAYC,EAASC,EAAWC,GACjCC,IAAAA,EAAMC,SAASC,cAAc,OAC7BC,EAAKF,SAASC,cAAc,MAC5BE,EAAKH,SAASC,cAAc,MAE9BG,MAAMC,QAAQT,GAChBO,EAAGG,UAAeV,GAAAA,OAAAA,EAAQjB,IAAI,SAAA4B,GACdA,MAAAA,OAAAA,OAAAA,EAAKC,MAAM3B,GAAzB,YAGFsB,EAAGG,UAAmBV,OAAAA,OAAAA,EAAQf,GAA9B,SAGFkB,EAAIU,UAAUC,IAAMb,EACpBK,EAAGS,UAAYb,EAEfC,EAAIa,OAAOV,GACXH,EAAIa,OAAOT,GAEXH,SAASa,KAAKD,OAAOb,GAGvBjB,EAAwBN,GACrBH,KAAK,SAAAyC,GACGnB,OAAAA,EACLmB,EADF,iBAAA,oBAKJ3B,EAAwBX,GACrBH,KAAK,SAAA0C,GACGpB,OAAAA,EACLoB,EADF,iBAAA,oBAKJvB,EAAuBhB,GACpBH,KAAK,SAAA2C,GACGrB,OAAAA,EACLqB,EADF,iBAAA","file":"main.94251dc3.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst baseUrl = `https://mate-academy.github.io/`\n+ `phone-catalogue-static/api/phones`;\n\nfunction request(url) {\n  return fetch(url)\n    .then(responce => responce.json());\n}\n\nconst phonesIdListArray\n  = request(`${baseUrl}.json`)\n    .then(result => result)\n    .then(arrayPhonesResult => {\n      return arrayPhonesResult.map(phone => {\n        return request(`${baseUrl}/${phone.id}.json`);\n      });\n    });\n\nfunction getFirstReceivedDetails(arrayPhonesId) {\n  return arrayPhonesId\n    .then(AllDetailsResult => Promise.race(AllDetailsResult));\n}\n\nfunction getAllSuccessfulDetails(arrayPhonesId) {\n  return arrayPhonesId\n    .then(AllDetailsResult => {\n      return Promise.allSettled(AllDetailsResult)\n        .then(results => results.filter(result => {\n          return result.status === 'fulfilled';\n        }));\n    });\n}\n\nfunction getThreeFastestDetails(arrayPhonesId) {\n  return getAllSuccessfulDetails(arrayPhonesId)\n    .then(allSuccessfulDetails => allSuccessfulDetails.slice(0, 3));\n}\n\nfunction notifyUsers(element, className, textString) {\n  const div = document.createElement('div');\n  const h3 = document.createElement('h3');\n  const ul = document.createElement('ul');\n\n  if (Array.isArray(element)) {\n    ul.innerHTML = `${element.map(item => {\n      return `<li>${item.value.id}</li>`;\n    })}`;\n  } else {\n    ul.innerHTML = `<li>${element.id}</li>`;\n  }\n\n  div.classList.add = className;\n  h3.innerText = textString;\n\n  div.append(h3);\n  div.append(ul);\n\n  document.body.append(div);\n}\n\ngetFirstReceivedDetails(phonesIdListArray)\n  .then(firstReceivedDetails => {\n    return notifyUsers(\n      firstReceivedDetails, `first-received`, `First Received`\n    );\n  });\n\ngetAllSuccessfulDetails(phonesIdListArray)\n  .then(allReceivedDetails => {\n    return notifyUsers(\n      allReceivedDetails, `all-successful`, `All Successful`\n    );\n  });\n\ngetThreeFastestDetails(phonesIdListArray)\n  .then(threeFastestDetails => {\n    return notifyUsers(\n      threeFastestDetails, `all-successful`, `Three Successful`\n    );\n  });\n"]}